# 📊 テキスト分析アプリ

CSVデータのテキストを読み込み、テキストデータの共起ネットワークを可視化し、ワードクラウドで可視化するStreamlitアプリケーションです。

## 🚀 機能

### 主要機能
- **📁 CSVファイルアップロード**: 複数のカラムを含むCSVファイルをアップロード可能
- **📋 カラム選択**: 最大3つまでのカラムを選択して分析対象に指定
- **🔤 形態素解析**: 日本語・英語のテキストに対応した形態素解析
- **☁️ ワードクラウド**: 頻出単語の可視化
- **🕸️ 共起ネットワーク**: 単語間の共起関係をネットワーク図で可視化
- **🎬 アニメーション機能**: ネットワークの動的な変化をアニメーションで表示
- **🔍 検索機能**: キーワード検索でテキストを検索

### 分析機能
- **言語自動検出**: 日本語・英語の自動判別
- **ストップワード除去**: 不要な単語を自動除去
- **頻出単語ランキング**: 上位単語の出現回数をグラフで表示
- **詳細な共起関係**: 単語ペアの共起回数を表形式で表示

## 📦 必要なパッケージ

```
streamlit==1.28.1
pandas==2.1.3
numpy==1.24.3
matplotlib==3.7.2
seaborn==0.12.2
plotly==5.17.0
wordcloud==1.9.2
networkx==3.2.1
jieba==0.42.1
nltk==3.8.1
scikit-learn==1.3.2
Pillow==10.0.1
```

## 🛠️ インストールと実行

### ローカル環境での実行

1. **依存関係のインストール**
```bash
pip install -r requirements.txt
```

2. **アプリケーションの実行**
```bash
streamlit run app.py
```

### Streamlit Cloudでのデプロイ

1. GitHubにリポジトリをプッシュ
2. Streamlit Cloudでリポジトリを接続
3. 自動的にデプロイされます

## 📋 使用方法

### 1. データアップロード
- 左サイドバーからCSVファイルをアップロード
- UTF-8エンコーディングのCSVファイルを推奨

### 2. カラム選択
- 分析対象のカラムを最大3つまで選択
- テキストデータを含むカラムのみ表示

### 3. 分析設定
- **言語設定**: 自動検出・日本語・英語から選択
- **最小単語長**: 除外する単語の最小長を設定
- **表示単語数**: 表示する頻出単語数を設定

### 4. 検索機能
- キーワードを入力してテキストを検索
- 検索結果を展開して詳細を確認

### 5. 分析実行
- 「分析を実行」ボタンをクリック
- 以下の結果が表示されます：
  - 基本統計情報
  - ワードクラウド
  - 頻出単語ランキング
  - 共起ネットワーク
  - アニメーション機能
  - 詳細な共起関係

## 🎯 出力例

### 基本統計
- 総テキスト数
- 総単語数
- ユニーク単語数
- 平均単語長

### ワードクラウド
- 頻出単語をサイズと色で表現
- 日本語・英語フォントに対応

### 共起ネットワーク
- 単語間の関係をノードとエッジで表現
- ノードサイズは単語の重要度を表現
- エッジの太さは共起強度を表現

### アニメーション
- データの増加に伴うネットワークの変化を動的に表示
- 再生・停止ボタンで制御可能

## 🔧 カスタマイズ

### 設定の変更
- `.streamlit/config.toml`でテーマカラーやサーバー設定を変更
- `app.py`内のパラメータで分析設定を調整

### 機能の追加
- 新しい可視化手法の追加
- 追加の分析機能の実装
- エクスポート機能の追加

## 📝 対応ファイル形式

- **CSVファイル**: UTF-8エンコーディング推奨
- **テキスト形式**: 日本語・英語対応
- **エンコーディング**: UTF-8, Shift_JIS, EUC-JP対応

## 🐛 トラブルシューティング

### よくある問題

1. **フォントエラー**
   - 日本語フォントがインストールされていない場合
   - システムフォントパスの確認

2. **メモリ不足**
   - 大きなファイルを処理する際に発生
   - データサイズの制限を設定

3. **NLTKデータ不足**
   - 初回実行時に自動ダウンロード
   - 手動でダウンロードする場合：
     ```python
     import nltk
     nltk.download('punkt')
     nltk.download('stopwords')
     ```

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能要望は、GitHubのIssuesでお知らせください。

---

**開発者**: AI Assistant  
**バージョン**: 1.0.0  
**最終更新**: 2024年 